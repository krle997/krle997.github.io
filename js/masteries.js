/*===========================================================
=         Masteries                                         =
===========================================================*/
Game.Masteries = {
  overheat: {
    name: 'Overheat',
    info: 'Increases Critical Chance by 1% per mastery Lv',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fgreen'>Common</span>`
  },
  extractor: {
    name: 'Extractor',
    info: 'Increases mined resources found by 10% per mastery Lv',
    lv: 0,
    maxLv: 8,
    bonus: 10,
    type: `<span class='fgreen'>Common</span>`
  },
  piercer: {
    name: 'Piercer',
    info: 'Increases Armor Penetration by 1% per mastery Lv',
    lv: 0,
    maxLv: 8,
    bonus: 10,
    type: `<span class='fgreen'>Common</span>`
  },
  mastery4: {
    name: 'Mastery 4',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery5: {
    name: 'Mastery 5',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery6: {
    name: 'Mastery 6',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery7: {
    name: 'Mastery 7',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery8: {
    name: 'Mastery 8',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery9: {
    name: 'Mastery 9',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery10: {
    name: 'Mastery 10',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery11: {
    name: 'Mastery 11',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery12: {
    name: 'Mastery 12',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery13: {
    name: 'Mastery 13',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery14: {
    name: 'Mastery 14',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery15: {
    name: 'Mastery 15',
    info: 'Info',
    lv: 0,
    maxLv: 8,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  synergy: {
    name: 'Synergy',
    info: 'Aditionaly increases your DPC by 1% of total DPS per mastery Lv',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fblue'>Rare</span>`
  },
  blaster: {
    name: 'Blaster',
    info: 'Increases your Critical Hit Damage by 10% per mastery Lv',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fblue'>Rare</span>`
  },
  mastery18: {
    name: 'Mastery 18',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery19: {
    name: 'Mastery 19',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery20: {
    name: 'Mastery 20',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery21: {
    name: 'Mastery 21',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery22: {
    name: 'Mastery 22',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery23: {
    name: 'Mastery 23',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery24: {
    name: 'Mastery 24',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery25: {
    name: 'Mastery 25',
    info: 'Info',
    lv: 0,
    maxLv: 5,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery26: {
    name: 'Mastery 26',
    info: 'Info',
    lv: 0,
    maxLv: 3,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery27: {
    name: 'Mastery 27',
    info: 'Info',
    lv: 0,
    maxLv: 3,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery28: {
    name: 'Mastery 28',
    info: 'Info',
    lv: 0,
    maxLv: 3,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery29: {
    name: 'Mastery 29',
    info: 'Info',
    lv: 0,
    maxLv: 3,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery30: {
    name: 'Mastery 30',
    info: 'Info',
    lv: 0,
    maxLv: 3,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery31: {
    name: 'Mastery 31',
    info: 'Info',
    lv: 0,
    maxLv: 1,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery32: {
    name: 'Mastery 32',
    info: 'Info',
    lv: 0,
    maxLv: 1,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  },
  mastery33: {
    name: 'Mastery 33',
    info: 'Info',
    lv: 0,
    maxLv: 1,
    bonus: 1,
    type: `<span class='fred'>In Developement</span>`
  }
}
/*===========================================================
=         Generate Masteries                                =
===========================================================*/
function generateMasteries() {
  for(key in Game.Masteries) {
    let item = Game.Masteries[key];

    let content = `
      <div class='item' id='${key}'>
        <img src='img/${key}.png' id='${key}Img'/>
        <div class='tooltip ach-tooltip'>
          <div class='tooltip-lv'>
            <canvas id='${key}Bar' width='64' height='64'></canvas>
          </div>
          <div class='tooltip-content fgrey'>
            <span class='fwhite'>${item.name}</span><br/>
            ${item.type}<hr/>
            Bonus: <span class='fwhite f16' id='${key}Bonus'></span><hr/>
            <span class='f10'>${item.info}</span>
          </div>
        </div>
      </div>
    `;

    elem('masteryItems').innerHTML += content;
  }
}
/*===========================================================
=         learn Mastery                                     =
===========================================================*/
function giveMastery() {
  let item = Game.Masteries;
  let mastery = [
    'overheat',
    'extractor',
    'piercer',
    'synergy',
    'blaster'
  ]

  let rand = Math.floor(Math.random() * (4 - 0) + 0);

  if(item[mastery[rand]].lv >= item[mastery[rand]].maxLv) {
    giveMastery();
    return;
  } else {
    item[mastery[rand]].lv ++;
    save(mastery[rand] + 'Lv', item[mastery[rand]].lv);

    updateDamage();

    let width = item[mastery[rand]].lv * 100 / item[mastery[rand]].maxLv;
    progressBar(item[mastery[rand]].lv, mastery[rand], width);

    elem(mastery[rand] + 'Bonus').innerHTML = item[mastery[rand]].bonus * item[mastery[rand]].lv + '%';
  }
}
/*===========================================================
=         Update Masteries                                  =
===========================================================*/
function updateMasteries() {
  for(key in Game.Masteries) {
    let item = Game.Masteries[key];

    let width = item.lv * 100 / item.maxLv;
    progressBar(item.lv, key, width);

    elem(key + 'Bonus').innerHTML = item.bonus * item.lv + '%';
  }
}
